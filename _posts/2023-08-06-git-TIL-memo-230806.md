---
layout: single
title:  "Git TIL 메모 (230806) - Branch 심화"
categories: git
tag: []
---

※ 본 내용은 얄코 님의 유료 강의를 수강하고 개인적으로 추가 조사하며 공부 목적으로 정리한 글입니다.  
(출처: [원본 인프런 강의](https://www.inflearn.com/course/%EC%A0%9C%EB%8C%80%EB%A1%9C-%ED%8C%8C%EB%8A%94-%EA%B9%83#))  

## Merge 의 두 가지 타입
1. 3-way merge
    - 다른 브랜치의 기록을 남기며 병합하는 것
    - 분기가 갈라져 있는 두 브랜치를 병합하면 자동으로 3-way merge 가 된다.
2. Fastforward
    - 브랜치의 분기가 갈라지지 않고 한 브랜치가 다른 브랜치보다 뒤쳐져 있는 것 같은 모습일 때, 뒤쳐진 브랜치를 앞으로 끌고오는 형태의 병합
    - 예를 들어, main 브랜치에서 Branch_A 라는 이름의 브랜치로 커밋이 쌓였으며, main 은 브랜치를 나눈 이후 커밋 진행이 없었다면 이런 모습이 된다.
    - 이런 상태일 때 merge 를 진행하면 자동으로 Fastforward merge 가 된다.
    - 대신 3-way 와는 다르게 브랜치 분할에 대한 기록이 남지 않으므로, 이 기록을 일부러 남기고 싶을 때는 `--no-ff` 인자를 붙여 강제로 3-way merge 를 하게 만들 수 있다.
        - ex. (베이스가 될 브랜치로 이동 후) `git merge --no-ff (병합할 브랜치명)`

## Cherry-pick
- 특정 커밋만 복제하여 현재 브랜치로 가져오는 명령어
- ex. `git cherry-pick (타겟 커밋 해시)`
- merge, rebase 와 달리 브랜치가 사라지거나 커밋이 합쳐지거나 하지 않음

## Rebase --onto
- 다른 브랜치에서 파생된 브랜치 중 하나의 전체 내용을 원하는 브랜치로 가져와 붙이는 명령어
- ex. `git rebase --onto (도착 브랜치) (출발 브랜치) (이동할 브랜치)`
    - 이동할 브랜치: 말 그대로 가져오고 싶은 브랜치
    - 출발 브랜치: 이동할 브랜치가 현재 붙어있는 브랜치
    - 도착 브랜치: 이동할 브랜치를 새롭게 붙여넣고자 하는 베이스가 되는 브랜치
- 이동하는 개념이므로 작업이 끝난 후 이동시킨 브랜치는 원본 위치에서는 사라진다.

## Merge --squash
- 다른 브랜치의 내용을 하나의 커밋에 모아서 합치는 명령어
- ex. (베이스가 될 브랜치로 이동 후) `git merge --squash (타겟 브랜치)`
    - 위 명령어 입력하면 모든 변경사항이 '커밋되지 않고 Stage 만 된 상태'로 현재 브랜치에 들어온다.
    - 이 상태로 `git commit` 하면 squash 된 내용이 자동적으로 입력되므로 그대로 커밋하면 된다. 

