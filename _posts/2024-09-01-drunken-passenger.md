---
layout: single
title:  "Drunken Passenger Problem"
categories: etc
tag: [math]
toc: true
published: false
---

최근 유튜브에서 우연히 Drunken Passenger 문제를 발견하고 풀어봤는데 영상과 조금 다른 흐름으로 풀어보아 기록으로 남겨본다.  
[임커밋님의 원본 영상 링크](https://youtu.be/zznpJFhuLTg?si=XTUIF1T9llsccsDB)

<!-- <iframe width="560" height="315" src="https://www.youtube.com/embed/zznpJFhuLTg?si=XTUIF1T9llsccsDB" title="YouTube video player" frameborder="0" allow="accelerometer; autoplay; clipboard-write; encrypted-media; gyroscope; picture-in-picture; web-share" referrerpolicy="strict-origin-when-cross-origin" allowfullscreen></iframe> -->

1. 문제의 일반화
2. n이 작을 때(n = 1, 2, 3, 4) 관찰 및 n=100 일 때 추측
3. 1번이 k번에 앉았을 때의 점화식
   1. k = 1
   2. 1 < k < n
   3. k = n
4. n=1 일 때 1, n=2 일 때 1/2 임을 사용하여 모든 n에 대해 1/2임을 증명 (수학적 귀납법)

# 문제 설명
![image](https://jm911.github.io/assets/images/240901/1.webp)
[그림 출처](https://medium.com/@rishidarkdevil/the-drunk-passenger-problem-554ebb7bd151)

비행기에 100명의 승객이 자신의 자리를 찾아 앉으려고 한다. 각 승객에는 1, 2, ..., 100 의 번호가 부여되어 있고 자신의 좌석에도 같은 번호가 붙어있다. 1번 승객부터 차례대로 자신의 좌석을 찾아 앉으려고 한다.  
그런데 이때 1번 승객이 술에 취해 1번 ~ 100번 좌석 중 랜덤으로 앉게 된다. 다른 사람들은 정상적으로 자신의 좌석을 찾아가서 앉으려고 하지만, 만약 자신의 좌석에 이미 다른 사람이 있으면 이 사람도 남은 좌석 중에 랜덤으로 골라 그 좌석에 앉는다.  
이 경우 마지막 100번 승객이 자신의 좌석인 100번 좌석에 제대로 앉을 확률을 구하시오. (어느 경우든 랜덤으로 좌석을 고를 때는 모든 좌석이 같은 확률을 가진다)

# 첫 풀이 시도

문제를 처음 본다면 대부분 1번이 1번에 앉을 경우에 100번이 제대로 앉을 확률, 2번에 앉을 경우 100번이 제대로 앉을 확률, ... 의 순서로 모든 경우를 계산하려고 시도할 것이다.  
그런데 조금 계산하다보면 깨닫게 되지만 계산이 꼬리에 꼬리를 물고 늘어져서 쉽지 않다.  
예를 들어 1번이 5번 좌석에 앉았다면, 2, 3, 4번 승객은 제대로 앉고 5번 승객이 또 랜덤으로 앉아야 한다. 여기서부터 다시 또 경우의 수 분할이 되어 100번까지 계산한다면 끝도 없이 늘어나는 것이다.  
결국 이런 형태의 풀이는 비현실적이라는 것을 깨닫고 더 이상 어떡해야 할지 깜깜해지는데, 이런 경우에 내가 수학적인 풀이를 시도하는 과정을 적어보겠다. (풀이만 간단하게 적는 것은 아니므로 다소 장황함)

# 일반화
일단 목표 번호를 100번이라는 큰 수로 정했다는 것은, 아마도 200, 300 에 대해서도 구하기 쉬울 가능성이 높다.  
물론 이건 어디까지나 추측이므로 함정에 빠지는 것일 수도 있지만, 여기선 그렇게 가정해서 풀이를 시도해 볼만 하다고 판단했다.  
즉, 이 가정을 토대로 100이 아니라 일반적인 n이라는 숫자에 대해 구하는 것으로 문제를 더 확장해본다.  
문제를 더 어렵게 만든다고 보여질 수도 있지만 어떨 때는 100이라는 명확한 목표 숫자가 풀이를 떠올리는 데 더 방해가 될 수도 있으므로 이런 시도를 해보는 것이다.

문제를 일반화하면 n번이 제대로 앉을 확률을 구하는 문제가 되고, 이 확률을 $P_n$이라고 하자. (n은 자연수)
이후 과정은 다음과 같다.

# 생각 과정

## (1) n이 작을 때 + 답 추측
가장 먼저 시도해야할 것은 n이 작을 때의 계산이다.  
일반적인 풀이가 쉽게 떠오르지 않을 때 직관을 유도하기 가장 좋은 방법이라고 생각한다.

### n=1 일 때
좌석이 1번 뿐이므로 무조건 제대로 앉을 수 밖에 없다.  
$$P_1 = 1$$

### n=2 일 때
좌석이 2개이므로 두 가지 경우로 나뉜다.  
1. 1번이 1번 좌석에 앉을 경우
2. 1번이 2번 좌석에 앉을 경우

첫 번째 경우 2번은 2번 좌석에 앉아 성공, 두 번째 경우 2번은 1번 좌석에 앉아 실패가 된다.
두 경우 모두 확률은 같으므로 최종 확률은 다음과 같다.  

$$P_2 = \frac{1}{2} \times 1 = \frac{1}{2}$$

### n=3 일 때
좌석이 3개이므로 세 가지 경우로 나뉜다.
1. 1번이 1번 좌석에 앉을 경우
2. 1번이 2번 좌석에 앉을 경우
3. 1번이 3번 좌석에 앉을 경우

첫 번째 경우는 모두 제대로 앉으므로 성공이다.  
두 번째 경우는 다시 두 가지로 나뉘는데, 2번이 1번 좌석에 앉을 경우, 2번이 3번 좌석에 앉을 경우이다. 당연히 2번이 1번 좌석에 앉을 때만 성공이다.
세 번째 경우는 3번 좌석이 이미 차지되었으므로 실패다.

$$P_3 = \frac{1}{3} \times 1 + \frac{1}{3} \times \frac{1}{2} = \frac{1}{2}$$

### n=4 일 때
여기서부터는 슬슬 복잡해진다.  
일단 경우가 네 가지로 나뉜다는 것은 명확하고, 이 중에 '1번이 2번 좌석에 앉을 경우'가 문제가 된다.  
왜냐하면 다시 또 2번 사람이 앉을 수 있는 좌석이 1번, 3번, 4번으로 세 가지나 되고 또 3번이 어디에 앉고... 이렇게 처음에 문제를 어렵다고 느낀 그 지점으로 돌아오는 것이다.  
하지만 여기가 핵심이므로 불편함을 무릅쓰고 경우를 다 따져보자.  

1. 1번이 1번 좌석에 앉을 경우 - 성공 ($\frac{1}{4}$)
2. 1번이 2번 좌석에 앉을 경우
   1. 2번이 1번 좌석에 앉을 경우 - 성공 ($\frac{1}{4} \times \frac{1}{3}$)
   2. 2번이 3번 좌석에 앉을 경우
      1. 3번이 1번 좌석에 앉을 경우 - 성공 ($\frac{1}{4} \times \frac{1}{3} \times \frac{1}{2}$)
      2. 3번이 4번 좌석에 앉을 경우 - 실패 
   3. 2번이 4번 좌석에 앉을 경우 - 실패
3. 1번이 3번 좌석에 앉을 경우
   1. 3번이 1번 좌석에 앉을 경우 - 성공 ($\frac{1}{4} \times \frac{1}{2}$)
   2. 3번이 4번 좌석에 앉을 경우 - 실패
4. 1번이 4번 좌석에 앉을 경우 - 실패

TODO - 작성 중...
$$P_4 = \frac{1}{4} \times 1 + \frac{1}{4} \times (\frac{1}{3} $$


## (2) 1번이 k번에 앉았을 때?


## (3) 점화식

### k = 1

### k = n

### 2 < k < n

## (4) 정답 및 증명 (수학적 귀납법)


추가 코멘트  
개인적으로는 이런 식의 차근차근 쌓아나가는 풀이보다는 원본 영상처럼 (수학적인 언어로 풀어 쓰기에는 조금 힘들어도) 직관적인 형태를 이해하는 것이 더 중요하다고 생각한다.  
(중요하다는 것의 의미는 근본적으로 다른 문제들을 풀기 위한 사고력을 키우려면 어떤 형태의 공부를 추구해야 하냐는 기준)  
하지만 면접처럼 중요한 순간을 위해 이런 식으로 논리의 흐름을 따라 풀어보는 방식도 익혀놓는 것이 좋은 것 같다.

